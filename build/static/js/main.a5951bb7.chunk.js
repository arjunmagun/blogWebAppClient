(this.webpackJsonpreact=this.webpackJsonpreact||[]).push([[0],{134:function(e,t,a){e.exports=a(229)},139:function(e,t,a){},140:function(e,t,a){},167:function(e,t,a){},223:function(e,t,a){},224:function(e,t,a){},225:function(e,t,a){},226:function(e,t,a){},227:function(e,t,a){},229:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),r=a(19),l=a.n(r),s=a(65),o=a(11),i=a(8),m=(a(139),a(255)),u=a(251),d=a(256),p=a(253);const E=Object(n.createContext)();function g({children:e}){const t=Object(n.useState)(JSON.parse(localStorage.getItem("userData"))||null),a=Object(i.a)(t,2),r=a[0],l=a[1];return Object(n.useEffect)(()=>{localStorage.setItem("userData",JSON.stringify(r))},[r]),c.a.createElement(E.Provider,{value:[r,l]},e)}a(140);var h=a(17),b=a.n(h);var f=()=>{const e=Object(n.useContext)(E),t=Object(i.a)(e,2),a=t[0];t[1],Object(o.f)();return c.a.createElement(m.a,{id:"navbar",bg:"transparent",expand:"lg"},c.a.createElement(u.a,null,c.a.createElement(m.a.Brand,{id:"brandName",href:"/"},"STORY"),c.a.createElement(m.a.Toggle,{"aria-controls":"basic-navbar-nav"}),c.a.createElement(m.a.Collapse,{id:"basic-navbar-nav"},c.a.createElement(d.a,{id:"navLinks",className:"ml-auto"},c.a.createElement(d.a.Link,{href:"/"},"Home"),a?c.a.createElement(c.a.Fragment,null,c.a.createElement(d.a.Link,{href:"/blog/create"},"Create Blog"),c.a.createElement(p.a,{title:"User",id:"basic-nav-dropdown"},c.a.createElement(p.a.Item,null,a.username),c.a.createElement(p.a.Item,{href:"/user/blogs"},"Your Blogs"),c.a.createElement(p.a.Divider,null),c.a.createElement(p.a.Item,{onClick:function(e){e.preventDefault(),b.a.get("http://localhost:5000/users/logout"),localStorage.removeItem("userData"),window.location="/"},href:"/users/logout"},"Log Out"))):c.a.createElement(c.a.Fragment,null,c.a.createElement(d.a.Link,{href:"/users/login"},"Login"),c.a.createElement(d.a.Link,{href:"/users/register"},"SignUp"))))))},v=a(252),O=a(254),j=a(16),N=a.n(j),y=a(29);const w=Object(n.createContext)();function C({children:e}){const t=Object(n.useState)([]),a=Object(i.a)(t,2),r=a[0],l=a[1];return Object(n.useEffect)(Object(y.a)(N.a.mark((function e(){return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b.a.get("http://localhost:5000/").then(e=>l(e.data));case 2:case"end":return e.stop()}}),e)}))),[]),c.a.createElement(w.Provider,{value:[r,l]},e)}var x=function(){const e=Object(n.useContext)(w),t=Object(i.a)(e,2),a=t[0],r=(t[1],Object(n.useContext)(E)),l=Object(i.a)(r,2),s=l[0];return l[1],c.a.createElement("div",{className:"main_home"},c.a.createElement(f,null),c.a.createElement(v.a,{fixed:!0},a.map((e,t)=>c.a.createElement("div",{className:"mycard"},c.a.createElement("img",{className:"mycard_img",alt:"random",src:e.imageUrl}),c.a.createElement("div",{className:"mycard_body"},c.a.createElement("h1",{className:"mycard_title"},e.title),c.a.createElement("p",{className:"mycard_text"},e.description.substring(0,100)," ..."),c.a.createElement("div",{className:"dateHome"},c.a.createElement("p",{className:"inner-date"},e.date.substring(0,10))),c.a.createElement(O.a,{id:"mycard_btn",variant:"outlined",href:s?"/".concat(e._id):"/users/login"},"Read More..."))))))},S=a(123),_=a.n(S),k=(a(165),a(122)),U=a.n(k),B=a(257);a(167);var I=function(){const e=Object(n.useState)(""),t=Object(i.a)(e,2),a=t[0],r=t[1],l=Object(n.useState)(""),s=Object(i.a)(l,2),o=s[0],m=s[1],d=Object(n.useState)(""),p=Object(i.a)(d,2),g=p[0],h=p[1],v=Object(n.useState)(new Date),j=Object(i.a)(v,2),N=j[0],y=j[1],w=Object(n.useContext)(E),C=Object(i.a)(w,2),x=C[0];return C[1],c.a.createElement("div",{className:"main_create"},c.a.createElement(f,null),c.a.createElement(u.a,null,c.a.createElement("h1",{className:"title_create"},"Write your Stories or Thoughts"),c.a.createElement(B.a,{id:"form"},c.a.createElement("input",{className:"titleInput",placeholder:"Title",value:a,name:"title",onChange:function(e){r(e.target.value)},required:"true"}),c.a.createElement("textarea",{className:"descInput",placeholder:"Description","aria-label":"minimum height",rowsMin:5,value:o,name:"description",onChange:function(e){m(e.target.value)},required:!0}),c.a.createElement("input",{className:"imageInput",placeholder:"Image URL",value:g,name:"imageurl",onChange:function(e){h(e.target.value),console.log(g)},required:!0}),c.a.createElement(_.a,{id:"dateSelector",selected:N,onChange:function(e){y(e)},closeOnScroll:!0,dateFormat:"dd/MM/yyyy"}),c.a.createElement(O.a,{id:"btn_create",type:"submit",onClick:function(e){e.preventDefault();const t={title:a,description:o,imageUrl:g,date:N,createdBy:x};b.a.post("http://localhost:5000/create",t).then(e=>console.log(e.data)).catch(e=>console.log(e.res)),window.location="/",U()({title:"SUCCESSFULLY CREATED A BLOG",icon:"success"}),console.log(t)}},"Publish"))))},D=(a(223),a(126)),L=a.n(D),T=a(127),M=a.n(T);var R=function(e){const t=Object(n.useState)([]),a=Object(i.a)(t,2),r=a[0],l=a[1],s=Object(n.useContext)(E),o=Object(i.a)(s,2),m=o[0];o[1];let d=e.match.params.id;function p(e){b.a.delete("http://localhost:5000/".concat(e,"/update")).then(e=>console.log(e.data)),l(r.filter(t=>t._id!==e)),window.location="/"}Object(n.useEffect)(Object(y.a)(N.a.mark((function e(){return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b.a.get("http://localhost:5000/".concat(d)).then(e=>l([e.data]));case 2:case"end":return e.stop()}}),e)}))),[]);const g=r.map(e=>e.createdBy.id),h=JSON.stringify(g)==='["'+m.id+'"]';return c.a.createElement("div",{className:"main_blog"},c.a.createElement(f,null),c.a.createElement(u.a,null,r.map((e,t)=>c.a.createElement("div",{key:t,className:"mainblog_body"},c.a.createElement("h1",{className:"title"},e.title),c.a.createElement("p",{className:"dateMain"},e.date),c.a.createElement("p",{className:"dateMain"},"Created By: ",e.createdBy.username),c.a.createElement("img",{className:"image",alt:"random",src:e.imageUrl}),c.a.createElement("p",{className:"description"},e.description),h?c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{className:"btns"},c.a.createElement(O.a,{id:"btn1",variant:"outlined",href:"/".concat(d,"/update")},"Edit blog"),c.a.createElement(O.a,{id:"btn2",variant:"outlined",onClick:p},"Delete blog")),c.a.createElement("div",{className:"icons"},c.a.createElement("a",{href:"/".concat(d,"/update")},c.a.createElement(L.a,{id:"icon1"})),c.a.createElement(M.a,{id:"icon2",onClick:p}))):null))))},q=a(45);a(224);var P=function(e){const t=Object(n.useState)([]),a=Object(i.a)(t,2),r=a[0],l=a[1];let s=e.match.params.id;function o(){return(o=Object(y.a)(N.a.mark((function e(t){return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,b()({method:"POST",data:r,url:"http://localhost:5000/".concat(s,"/update")}).then(e=>console.log(e.data));case 3:window.location="/".concat(s);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(n.useEffect)(Object(y.a)(N.a.mark((function e(){return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b.a.get("http://localhost:5000/".concat(s)).then(e=>l(e.data));case 2:case"end":return e.stop()}}),e)}))),[]),c.a.createElement("div",{className:"update-main"},c.a.createElement(f,null),c.a.createElement(u.a,null,c.a.createElement("h1",null,"Update blogs here!"),c.a.createElement(B.a,{id:"update-form",justify:"center",alignItems:"center"},c.a.createElement("input",{className:"update-title",placeholder:"Title",value:r.title,name:"title",onChange:e=>l(Object(q.a)(Object(q.a)({},r),{},{title:e.target.value}))}),c.a.createElement("input",{className:"imageUrl_update",placeholder:"Image URL",value:r.imageUrl,name:"imageurl",onChange:e=>l(Object(q.a)(Object(q.a)({},r),{},{imageUrl:e.target.value}))}),c.a.createElement("textarea",{className:"description_update",placeholder:"Description",value:r.description,rows:"20",name:"description",onChange:e=>l(Object(q.a)(Object(q.a)({},r),{},{description:e.target.value}))}),c.a.createElement(O.a,{id:"btn-update",color:"primary",variant:"contained",onClick:function(e){return o.apply(this,arguments)}},"Edit Blog!"))))};a(225);var F=function(){const e=Object(n.useState)(""),t=Object(i.a)(e,2),a=t[0],r=t[1],l=Object(n.useState)(""),s=Object(i.a)(l,2),m=s[0],d=s[1],p=Object(n.useState)(""),E=Object(i.a)(p,2),g=E[0],h=E[1],v=Object(o.f)();function j(){return(j=Object(y.a)(N.a.mark((function e(t){return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,b()({method:"POST",data:{username:a,email:m,password:g},withCredentials:!0,url:"http://localhost:5000/users/register"}).then(e=>console.log(e));case 3:v.push("/users/login");case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return c.a.createElement("div",{className:"main_register"},c.a.createElement(f,null),c.a.createElement(u.a,null,c.a.createElement("h1",{className:"title_register"},"Register"),c.a.createElement(B.a,{id:"form"},c.a.createElement("input",{className:"username",placeholder:"Username",value:a,name:"username",onChange:function(e){r(e.target.value)},required:"true"}),c.a.createElement("input",{className:"emailInput",placeholder:"Email Address",value:m,name:"email",onChange:function(e){d(e.target.value)},required:!0}),c.a.createElement("input",{className:"password",placeholder:"Password",type:"password",value:g,name:"password",onChange:function(e){h(e.target.value)}}),c.a.createElement(O.a,{id:"registerBtn",type:"submit",onClick:function(e){return j.apply(this,arguments)}},"Register"))))};a(226);var J=function(){const e=Object(n.useState)(""),t=Object(i.a)(e,2),a=t[0],r=t[1],l=Object(n.useState)(""),s=Object(i.a)(l,2),m=s[0],d=s[1],p=Object(n.useState)(""),g=Object(i.a)(p,2),h=g[0],v=g[1],j=Object(n.useContext)(E),w=Object(i.a)(j,2),C=(w[0],w[1]),x=Object(o.f)();function S(){return(S=Object(y.a)(N.a.mark((function e(t){return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,b()({method:"POST",data:{username:a,email:m,password:h},withCredentials:!0,url:"http://localhost:5000/users/login"}).then(e=>C(e.data));case 3:x.push("/");case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return c.a.createElement("div",{className:"main_login"},c.a.createElement(f,null),c.a.createElement(u.a,null,c.a.createElement("h1",{className:"title_login"},"Login"),c.a.createElement(B.a,{id:"form"},c.a.createElement("input",{className:"username",placeholder:"Username",value:a,name:"username",onChange:function(e){r(e.target.value)},required:"true"}),c.a.createElement("input",{className:"emailInput",placeholder:"Email Address",value:m,name:"email",onChange:function(e){d(e.target.value)},required:!0}),c.a.createElement("input",{className:"password",placeholder:"password",type:"password",value:h,name:"password",onChange:function(e){v(e.target.value)}}),c.a.createElement(O.a,{id:"loginBtn",type:"submit",onClick:function(e){return S.apply(this,arguments)}},"Login"))))};a(227);function A(){const e=Object(n.useContext)(w),t=Object(i.a)(e,2),a=t[0],r=(t[1],Object(n.useContext)(E)),l=Object(i.a)(r,2),s=l[0],o=(l[1],a.filter(e=>e.createdBy.id===s.id)||null);return console.log(o),c.a.createElement("div",{className:"userBlogs-main"},c.a.createElement(f,null),c.a.createElement(v.a,{fixed:!0},c.a.createElement("h1",null,"Your Blogs"),o.map((e,t)=>c.a.createElement("div",{className:"mycard"},c.a.createElement("img",{className:"mycard_img",alt:"random",src:e.imageUrl}),c.a.createElement("div",{className:"mycard_body"},c.a.createElement("h1",{className:"mycard_title"},e.title),c.a.createElement("p",{className:"mycard_text"},e.description.substring(0,100)," ..."),c.a.createElement("div",{className:"dateHome"},c.a.createElement("p",{className:"inner-date"},e.date.substring(0,10))),c.a.createElement(O.a,{id:"mycard_btn",variant:"outlined",href:"/".concat(e._id)},"Read More..."))))))}a(228);function Y(e){return console.log(e),c.a.createElement(s.a,null,c.a.createElement(o.c,null,c.a.createElement("div",null,c.a.createElement(C,null,c.a.createElement(g,null,c.a.createElement(o.a,{exact:!0,path:"/",component:x}),c.a.createElement(o.a,{exact:!0,path:"/blog/create",component:I}),c.a.createElement(o.a,{exact:!0,path:"/:id",component:R}),c.a.createElement(o.a,{exact:!0,path:"/:id/update",component:P}),c.a.createElement(o.a,{exact:!0,path:"/users/register",component:F}),c.a.createElement(o.a,{exact:!0,path:"/users/login",component:J}),c.a.createElement(o.a,{exact:!0,path:"/user/blogs",component:A}))))))}const H=document.getElementById("root");l.a.render(c.a.createElement(c.a.StrictMode,null,c.a.createElement(Y,null)),H)}},[[134,1,2]]]);
//# sourceMappingURL=main.a5951bb7.chunk.js.map